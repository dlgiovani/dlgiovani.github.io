<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="css/columns.css">

    <link rel="icon" type="image/png" sizes="32x32" href="/img/favico/favicon-32x32.png">

    <script src="/js/jscript.js"></script>

    <title>Safe passGen</title>
</head>
<py-script style="display: none;">
import random
def calcPassword():
    qtyOfChar = int(Element('userInput').element.value)

    chars = {
    'lowers': 'abcdefghijklmnopqrstuvwxyzç',
    'uppers': 'ABCDEFGHIJKLMNOPQRSTUVWXYZÇ',
    'numbers': '0123456789',
    'specials': '!@#$%¨&*()_+=\/{}:;.,'
    }

    outPass = ''
    outPassLs = []
    charsLeft = qtyOfChar
    while charsLeft > 0:
        seed = random.choice(['lowers','uppers','numbers','specials'])

        n = random.randint(1, charsLeft//5+1)
        charsLeft = charsLeft - n
        outPassLs += random.choices(chars[seed], k = n)
            
    #print(outPassLs)
    outPass = ''.join(outPassLs)

    Element('genPassword').element.innerText = outPass
</py-script>
<body>
    <div class="projectCardBox">

        <div class="mainTitle">
            Password Generator
        </div>

        <div class="description">
            by Giovani DL
        </div>

        <div>
            <p class="paragraph">Insert the quantity of characters you want your password to be:</p>
            <input class="userInput" id="userInput">
            </input>
            <button id="submit-button" type="submit" py-onClick="calcPassword()" class="buttonDefault">Generate password</button>
        </div>

        <div>
            <p class="paragraph">Your generated password:</p>
            <div class="paragraph" id="genPassword"></div>
            <button onclick="copyText()" class="buttonDefault">Copy password</button>
        </div>

        <div>
            <p class="paragraph">About:<br>This password generator is written in python and browser-supported by pyscript, a framework that allows python to run in the browser!</p>
        </div>

    </div>
</body>
</html>

<link rel="stylesheet" href="/pyscript-main/" />
<script defer src="https://pyscript.net/latest/pyscript.js"></script>